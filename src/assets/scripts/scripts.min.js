jQuery(function(e){function t(){return{
    cardGiver:"Charlotte",firstName:"firstName",phoneNumber:"0000000000",howMet:"",step:1,send:"no"}}
    function n(){e("body").attr("cd-step",cdStep),e(".showStep").html(cdStep);
    var t=e(".step-frame[link-step="+cdStep+"]"),n=t.outerHeight();t.removeClass("hidden-frame"),e(".step-frame").not(t).addClass("hidden-frame"),e("#app-content").height(n)}var r=t();n(),e(".cd-forward-button").on("click",function(){cdStep+1<5&&cdStep++,n(),cdStep}),e(".cd-back-button").on("click",function(){cdStep-1>0&&cdStep--,n(),cdStep}),e(".cd-restart-button").on("click",function(){e(".wdac-input").val(""),r=t(),cdStep=1,n(),cdStep}),e("form.wdac-form").submit(function(t){var o=!0;t.preventDefault(),e.extend(r,function(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=e[n].value;return t}(e(this).serializeArray())),"yes"==r.send&&(function(e){return/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/.test(e)}(r.phoneNumber)?function(e){console.log("Posting: "+JSON.stringify({carddate:e})),jQuery.ajax({url:"api.php",type:"POST",contentType:"application/json",data:JSON.stringify({carddate:e}),success:function(e){console.log(e)},failure:function(e){console.log("Failure: "+e.statusText)},error:function(e,t,n){console.log(n)}})}(r):(o=!1,alert("Your phone number is not formatted correctly. Only enter numbers."))),o&&function(t){if(t.step>4||t.step<1)return cdStep;cdStep=t.step,n(),t.firstName=t.firstName.replace(/[^a-zA-Z]/gi,""),e(".showFirstName").html(t.firstName),e(".showPhoneNumber").html(t.phoneNumber)}(r)})});
